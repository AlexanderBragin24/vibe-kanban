{
  "openapi": "3.0.3",
  "info": {
    "title": "Vibe Kanban Backend API",
    "description": "OpenAPI summary of the Vibe Kanban backend routes exposed under the /api prefix.",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:3000/api",
      "description": "Local development server"
    }
  ],
  "paths": {
    "/health": {
      "get": {
        "summary": "Health check",
        "responses": {
          "200": {
            "description": "Backend is running",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "string",
                      "example": "OK"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/handoff/init": {
      "post": {
        "summary": "Start OAuth handoff",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HandoffInitRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Authorize URL and handoff ID returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseAuthHandoff"
                }
              }
            }
          }
        }
      }
    },
    "/auth/handoff/complete": {
      "get": {
        "summary": "Complete OAuth handoff",
        "parameters": [
          {
            "name": "handoff_id",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "app_code",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Session created; browser can close",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "summary": "Clear stored OAuth credentials",
        "responses": {
          "204": {
            "description": "Logged out"
          }
        }
      }
    },
    "/auth/status": {
      "get": {
        "summary": "Get cached user profile and token status",
        "responses": {
          "200": {
            "description": "Cached session status",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseOAuthStatus"
                }
              }
            }
          }
        }
      }
    },
    "/info": {
      "get": {
        "summary": "Read combined user, executor, and environment metadata",
        "responses": {
          "200": {
            "description": "Configuration information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "additionalProperties": true
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/config": {
      "put": {
        "summary": "Replace the persisted configuration file",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Configuration saved",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "additionalProperties": true
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/sounds/{sound}": {
      "get": {
        "summary": "Download bundled notification sounds",
        "parameters": [
          {
            "name": "sound",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Audio file",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Route-specific payload"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/mcp-config": {
      "get": {
        "summary": "Read MCP server definitions for a profile",
        "parameters": [
          {
            "name": "executor",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "MCP configuration",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": true
                      }
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Update MCP server definitions for a profile",
        "parameters": [
          {
            "name": "executor",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "MCP configuration updated",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": true
                      }
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/profiles": {
      "get": {
        "summary": "Read executor profiles",
        "responses": {
          "200": {
            "description": "Profiles returned",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": true
                      }
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update executor profiles",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profiles updated",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": true
                      }
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/editors/check-availability": {
      "get": {
        "summary": "Check whether a configured editor is available",
        "parameters": [
          {
            "name": "editor_type",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Availability reported",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseAvailability"
                }
              }
            }
          }
        }
      }
    },
    "/agents/check-availability": {
      "get": {
        "summary": "Report availability info for a coding agent profile",
        "parameters": [
          {
            "name": "executor",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Availability reported",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "additionalProperties": true
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/projects": {
      "get": {
        "summary": "List projects",
        "responses": {
          "200": {
            "description": "Projects returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseProjects"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a project",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Project created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseProjects"
                }
              }
            }
          }
        }
      }
    },
    "/projects/{id}": {
      "get": {
        "summary": "Get a project",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Project returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseProject"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update a project",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Project updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseProject"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete a project",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Project deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseProject"
                }
              }
            }
          }
        }
      }
    },
    "/projects/{id}/branches": {
      "get": {
        "summary": "List git branches for a project",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Branches returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseGitBranches"
                }
              }
            }
          }
        }
      }
    },
    "/projects/{id}/search": {
      "get": {
        "summary": "Search for file paths in a project repository",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "q",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Search results",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseSearchResults"
                }
              }
            }
          }
        }
      }
    },
    "/projects/{id}/open-editor": {
      "post": {
        "summary": "Open the project in a configured editor",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Editor opened",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Route-specific payload"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/projects/{id}/link": {
      "post": {
        "summary": "Link a project to an existing remote project",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Project linked",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseProject"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Unlink a project from a remote project",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Project unlinked",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseProject"
                }
              }
            }
          }
        }
      }
    },
    "/projects/{id}/link/create": {
      "post": {
        "summary": "Create and link a remote project in one step",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Remote project created and linked",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseProject"
                }
              }
            }
          }
        }
      }
    },
    "/projects/{id}/remote/members": {
      "get": {
        "summary": "List remote project members",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Members returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseRemoteProjectMembers"
                }
              }
            }
          }
        }
      }
    },
    "/remote-projects/{remote_project_id}": {
      "get": {
        "summary": "Fetch remote project details by ID",
        "parameters": [
          {
            "name": "remote_project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Remote project returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseRemoteProject"
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts": {
      "get": {
        "summary": "List attempts",
        "parameters": [
          {
            "name": "task_id",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Attempts returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseTaskAttempts"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a task attempt and start executor",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Attempt created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseTaskAttempts"
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}": {
      "get": {
        "summary": "Fetch a task attempt",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Attempt returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseTaskAttempt"
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/follow-up": {
      "post": {
        "summary": "Send follow-up instructions",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFollowUpAttempt"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Follow-up started",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseExecutionProcess"
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/start-dev-server": {
      "post": {
        "summary": "Start dev server",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Dev server started",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/branch-status": {
      "get": {
        "summary": "Get attempt branch status",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Branch status",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseBranchStatus"
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/diff/ws": {
      "get": {
        "summary": "WebSocket stream of diffs",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "101": {
            "description": "WebSocket upgrade"
          },
          "200": {
            "description": "WebSocket stream of diffs",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Route-specific payload"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/merge": {
      "post": {
        "summary": "Merge attempt branch",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Merge completed",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "additionalProperties": true
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/push": {
      "post": {
        "summary": "Push attempt branch",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Push completed",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "additionalProperties": true
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/push/force": {
      "post": {
        "summary": "Force push attempt branch",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Force push completed",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "additionalProperties": true
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/rebase": {
      "post": {
        "summary": "Rebase attempt branch",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Rebase completed",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "additionalProperties": true
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/stop": {
      "post": {
        "summary": "Stop attempt execution",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Attempt stopped",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "additionalProperties": true
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/change-target-branch": {
      "post": {
        "summary": "Change target branch for attempt",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Target branch changed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseTaskAttempt"
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/rename-branch": {
      "post": {
        "summary": "Rename attempt branch",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Branch renamed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseTaskAttempt"
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/open-editor": {
      "post": {
        "summary": "Open attempt in editor",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Editor opened",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "additionalProperties": true
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/images/upload": {
      "post": {
        "summary": "Upload an image and copy it into the attempt worktree",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "image": {
                    "type": "string",
                    "format": "binary"
                  }
                },
                "required": [
                  "image"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Image uploaded and copied to worktree",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseImage"
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/queue": {
      "get": {
        "summary": "Get queued follow-up status for an attempt",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Current queue status",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseQueueStatus"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Queue a follow-up message for an attempt",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QueueMessageRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message queued",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseQueueStatus"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Cancel any queued follow-up message for an attempt",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Queue cleared",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseQueueStatus"
                }
              }
            }
          }
        }
      }
    },
    "/execution-processes/stream/ws": {
      "get": {
        "summary": "WebSocket stream of execution process events",
        "responses": {
          "101": {
            "description": "WebSocket upgrade"
          },
          "200": {
            "description": "WebSocket stream of execution process events",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExecutionProcessLogMessage"
                }
              }
            }
          }
        }
      }
    },
    "/execution-processes/{id}": {
      "get": {
        "summary": "Fetch an execution process",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Process returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseExecutionProcess"
                }
              }
            }
          }
        }
      }
    },
    "/execution-processes/{id}/stop": {
      "post": {
        "summary": "Stop an execution process",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Process stopped",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/execution-processes/{id}/raw-logs/ws": {
      "get": {
        "summary": "WebSocket stream of raw logs",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "101": {
            "description": "WebSocket upgrade"
          },
          "200": {
            "description": "WebSocket stream of raw logs",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExecutionProcessLogMessage"
                }
              }
            }
          }
        }
      }
    },
    "/execution-processes/{id}/normalized-logs/ws": {
      "get": {
        "summary": "WebSocket stream of normalised logs",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "101": {
            "description": "WebSocket upgrade"
          },
          "200": {
            "description": "WebSocket stream of normalised logs",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExecutionProcessLogMessage"
                }
              }
            }
          }
        }
      }
    },
    "/images/upload": {
      "post": {
        "summary": "Upload an image",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "image": {
                    "type": "string",
                    "format": "binary"
                  }
                },
                "required": [
                  "image"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Image uploaded",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseImage"
                }
              }
            }
          }
        }
      }
    },
    "/images/{id}/file": {
      "get": {
        "summary": "Fetch stored image binary",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Image file",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/images/{id}": {
      "delete": {
        "summary": "Delete an image",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Image deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/images/task/{task_id}": {
      "get": {
        "summary": "List images for a task",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Task images returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseImages"
                }
              }
            }
          }
        }
      }
    },
    "/images/task/{task_id}/metadata": {
      "get": {
        "summary": "Get image metadata for a task",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Image metadata",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseImageMetadata"
                }
              }
            }
          }
        }
      }
    },
    "/images/task/{task_id}/upload": {
      "post": {
        "summary": "Upload and attach an image to a task",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "image": {
                    "type": "string",
                    "format": "binary"
                  }
                },
                "required": [
                  "image"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Image uploaded and linked",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseImage"
                }
              }
            }
          }
        }
      }
    },
    "/shared-tasks/{shared_task_id}/assign": {
      "post": {
        "summary": "Reassign a shared task",
        "parameters": [
          {
            "name": "shared_task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Assignment updated",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "additionalProperties": true
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/shared-tasks/{shared_task_id}": {
      "delete": {
        "summary": "Delete a shared task",
        "parameters": [
          {
            "name": "shared_task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Shared task deleted",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "additionalProperties": true
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/approvals/{id}/respond": {
      "post": {
        "summary": "Respond to an approval prompt",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "execution_process_id",
                  "status"
                ],
                "properties": {
                  "execution_process_id": {
                    "type": "string",
                    "format": "uuid"
                  },
                  "status": {
                    "$ref": "#/components/schemas/ApprovalStatus"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Response recorded",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApprovalStatus"
                }
              }
            }
          }
        }
      }
    },
    "/events": {
      "get": {
        "summary": "Server-Sent Events feed combining historical and live events",
        "responses": {
          "200": {
            "description": "SSE stream",
            "content": {
              "text/event-stream": {
                "schema": {
                  "$ref": "#/components/schemas/RuntimeEventStream"
                }
              }
            }
          }
        }
      }
    },
    "/tags": {
      "get": {
        "summary": "List tags",
        "responses": {
          "200": {
            "description": "Tags returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseTags"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a tag",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Tag created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseTags"
                }
              }
            }
          }
        }
      }
    },
    "/tags/{tag_id}": {
      "put": {
        "summary": "Update a tag",
        "parameters": [
          {
            "name": "tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Tag updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseTag"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete a tag",
        "parameters": [
          {
            "name": "tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tag deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseTag"
                }
              }
            }
          }
        }
      }
    },
    "/filesystem/directory": {
      "get": {
        "summary": "List entries for a directory",
        "parameters": [
          {
            "name": "path",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Directory entries returned",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": true
                      }
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/filesystem/git-repos": {
      "get": {
        "summary": "Enumerate known git repositories on disk",
        "responses": {
          "200": {
            "description": "Git repos returned",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/containers/info": {
      "get": {
        "summary": "Resolve a container reference into IDs",
        "parameters": [
          {
            "name": "ref",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Container context returned",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "additionalProperties": true
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/containers/attempt-context": {
      "get": {
        "summary": "Return stored attempt context for a container ref",
        "parameters": [
          {
            "name": "ref",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Attempt context returned",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "additionalProperties": true
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/scratch": {
      "get": {
        "summary": "List scratch buffers",
        "responses": {
          "200": {
            "description": "Scratch buffers returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseScratches"
                }
              }
            }
          }
        }
      }
    },
    "/scratch/{scratch_type}/{id}": {
      "get": {
        "summary": "Get a scratch entry",
        "parameters": [
          {
            "name": "scratch_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Scratch entry returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseScratch"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a scratch entry",
        "parameters": [
          {
            "name": "scratch_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Scratch entry created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseScratch"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update a scratch entry",
        "parameters": [
          {
            "name": "scratch_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Scratch entry updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseScratch"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete a scratch entry",
        "parameters": [
          {
            "name": "scratch_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Scratch entry deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseScratch"
                }
              }
            }
          }
        }
      }
    },
    "/scratch/{scratch_type}/{id}/stream/ws": {
      "get": {
        "summary": "WebSocket stream for scratch entry updates",
        "parameters": [
          {
            "name": "scratch_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "101": {
            "description": "WebSocket upgrade"
          },
          "200": {
            "description": "WebSocket stream for scratch entry updates",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Route-specific payload"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/organizations": {
      "get": {
        "summary": "List organisations",
        "responses": {
          "200": {
            "description": "Organisations returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListOrganizations"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create an organisation",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateOrganizationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Organisation created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseCreateOrganization"
                }
              }
            }
          }
        }
      }
    },
    "/organizations/{id}": {
      "get": {
        "summary": "Get an organisation",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Organisation returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseGetOrganization"
                }
              }
            }
          }
        }
      },
      "patch": {
        "summary": "Update an organisation",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateOrganizationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Organisation updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseOrganization"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete an organisation",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          }
        }
      }
    },
    "/organizations/{org_id}/invitations": {
      "get": {
        "summary": "List invitations for an organisation",
        "parameters": [
          {
            "name": "org_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Invitations returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListInvitations"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create an invitation",
        "parameters": [
          {
            "name": "org_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateInvitationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Invitation created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseCreateInvitation"
                }
              }
            }
          }
        }
      }
    },
    "/organizations/{org_id}/invitations/{token}": {
      "delete": {
        "summary": "Revoke an invitation",
        "parameters": [
          {
            "name": "org_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "token",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Invitation revoked",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "additionalProperties": true
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/invitations/{token}": {
      "get": {
        "summary": "Get invitation details",
        "parameters": [
          {
            "name": "token",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Invitation returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseGetInvitation"
                }
              }
            }
          }
        }
      }
    },
    "/invitations/{token}/accept": {
      "post": {
        "summary": "Accept an invitation",
        "parameters": [
          {
            "name": "token",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Invitation accepted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseAcceptInvitation"
                }
              }
            }
          }
        }
      }
    },
    "/organizations/{org_id}/members": {
      "get": {
        "summary": "List organisation members",
        "parameters": [
          {
            "name": "org_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Members returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListMembers"
                }
              }
            }
          }
        }
      }
    },
    "/organizations/{org_id}/members/{user_id}": {
      "delete": {
        "summary": "Remove a member",
        "parameters": [
          {
            "name": "org_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          }
        }
      },
      "patch": {
        "summary": "Update a member role",
        "parameters": [
          {
            "name": "org_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMemberRoleRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Member updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseUpdateMemberRole"
                }
              }
            }
          }
        }
      }
    },
    "/remote-projects": {
      "get": {
        "summary": "List remote projects",
        "responses": {
          "200": {
            "description": "Remote projects returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseRemoteProjects"
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/run-agent-setup": {
      "post": {
        "summary": "Run coding agent setup for the attempt worktree",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RunAgentSetupRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Setup executed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseRunAgentSetup"
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/gh-cli-setup": {
      "post": {
        "summary": "Install and authenticate GitHub CLI for the attempt",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Setup started",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseExecutionProcessWithGhCliError"
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/commit-compare": {
      "get": {
        "summary": "Compare a commit against the attempt head",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sha",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Target commit SHA"
          }
        ],
        "responses": {
          "200": {
            "description": "Comparison returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseCommitCompare"
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/conflicts/abort": {
      "post": {
        "summary": "Abort an in-progress rebase or conflict state",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Conflicts aborted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/pr": {
      "post": {
        "summary": "Create a GitHub pull request from the attempt branch",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateGitHubPrRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Pull request created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseCreatePr"
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/pr/attach": {
      "post": {
        "summary": "Attach an existing PR to the attempt",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Pull request attached",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseAttachPr"
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/children": {
      "get": {
        "summary": "List parent/child tasks for an attempt",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Relationships returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseTaskRelationships"
                }
              }
            }
          }
        }
      }
    },
    "/tasks": {
      "get": {
        "summary": "List tasks",
        "parameters": [
          {
            "name": "project_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the project to scope tasks to"
          }
        ],
        "responses": {
          "200": {
            "description": "Tasks returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseTaskWithAttemptStatuses"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a task",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTask"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Task created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseTask"
                }
              }
            }
          }
        }
      }
    },
    "/tasks/create-and-start": {
      "post": {
        "summary": "Create a task and immediately start an attempt",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAndStartTaskRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Task created and attempt started",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseTaskWithAttemptStatus"
                }
              }
            }
          }
        }
      }
    },
    "/tasks/stream/ws": {
      "get": {
        "summary": "WebSocket stream of task events for the project",
        "parameters": [
          {
            "name": "project_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the project to stream tasks for"
          }
        ],
        "responses": {
          "101": {
            "description": "WebSocket upgrade"
          },
          "200": {
            "description": "WebSocket stream of task events for the project",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "description": "Route-specific payload"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "error_data": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/tasks/{task_id}": {
      "get": {
        "summary": "Get a task",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Task returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseTask"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update a task",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTask"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Task updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseTask"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete a task",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Task deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseTask"
                }
              }
            }
          }
        }
      }
    },
    "/tasks/{task_id}/share": {
      "post": {
        "summary": "Publish a task to the sharing service",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Shared task ID returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseShareTaskResponse"
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/images/metadata": {
      "get": {
        "summary": "Get image metadata for an attempt worktree",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "path",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Path under .vibe-images/"
          }
        ],
        "responses": {
          "200": {
            "description": "Attempt image metadata",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseImageMetadata"
                }
              }
            }
          }
        }
      }
    },
    "/task-attempts/{id}/images/file/{path}": {
      "get": {
        "summary": "Stream an attempt image by relative path",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Path under .vibe-images/"
          }
        ],
        "responses": {
          "200": {
            "description": "Image file",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ApiResponseBase": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "description": "Envelope payload. Concrete shape depends on the endpoint, but always returned when success is true.",
            "nullable": true,
            "oneOf": [
              {
                "type": "object",
                "additionalProperties": true
              },
              {
                "type": "array",
                "items": {}
              },
              {
                "type": "string"
              },
              {
                "type": "number"
              },
              {
                "type": "boolean"
              }
            ]
          },
          "error_data": {
            "description": "Error payload containing details when success is false.",
            "nullable": true,
            "oneOf": [
              {
                "type": "object",
                "additionalProperties": true
              },
              {
                "type": "array",
                "items": {}
              },
              {
                "type": "string"
              },
              {
                "type": "number"
              },
              {
                "type": "boolean"
              }
            ]
          },
          "message": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "success"
        ]
      },
      "ApprovalStatus": {
        "description": "Tagged approval status values returned by the approvals service",
        "oneOf": [
          {
            "type": "object",
            "properties": {
              "status": {
                "type": "string",
                "enum": [
                  "pending"
                ]
              }
            },
            "required": [
              "status"
            ]
          },
          {
            "type": "object",
            "properties": {
              "status": {
                "type": "string",
                "enum": [
                  "approved"
                ]
              }
            },
            "required": [
              "status"
            ]
          },
          {
            "type": "object",
            "properties": {
              "status": {
                "type": "string",
                "enum": [
                  "denied"
                ]
              },
              "reason": {
                "type": "string",
                "nullable": true
              }
            },
            "required": [
              "status"
            ]
          },
          {
            "type": "object",
            "properties": {
              "status": {
                "type": "string",
                "enum": [
                  "timed_out"
                ]
              }
            },
            "required": [
              "status"
            ]
          }
        ]
      },
      "RuntimeEventStream": {
        "type": "string",
        "description": "Server-Sent Events stream where each event name is one of stdout, stderr, json_patch, session_id, or finished and the data field contains log text or serialised JSON patch content.",
        "example": "event: stdout\\ndata: npm install\\n\\n"
      },
      "Project": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "git_repo_path": {
            "type": "string"
          },
          "setup_script": {
            "type": "string",
            "nullable": true
          },
          "dev_script": {
            "type": "string",
            "nullable": true
          },
          "cleanup_script": {
            "type": "string",
            "nullable": true
          },
          "copy_files": {
            "type": "string",
            "nullable": true
          },
          "remote_project_id": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "created_at": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          }
        }
      },
      "GitBranch": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "is_current": {
            "type": "boolean"
          },
          "is_remote": {
            "type": "boolean"
          },
          "last_commit_date": {
            "type": "string"
          }
        }
      },
      "SearchResult": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string"
          },
          "is_file": {
            "type": "boolean"
          },
          "match_type": {
            "type": "string"
          }
        }
      },
      "Task": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "project_id": {
            "type": "string",
            "format": "uuid"
          },
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "string"
          },
          "parent_task_attempt": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "shared_task_id": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "created_at": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          }
        }
      },
      "TaskWithAttemptStatus": {
        "allOf": [
          {
            "$ref": "#/components/schemas/Task"
          },
          {
            "type": "object",
            "properties": {
              "has_in_progress_attempt": {
                "type": "boolean"
              },
              "has_merged_attempt": {
                "type": "boolean"
              },
              "last_attempt_failed": {
                "type": "boolean"
              },
              "executor": {
                "type": "string"
              }
            }
          }
        ]
      },
      "ShareTaskResponse": {
        "type": "object",
        "properties": {
          "shared_task_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "TaskAttempt": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "task_id": {
            "type": "string",
            "format": "uuid"
          },
          "container_ref": {
            "type": "string",
            "nullable": true
          },
          "branch": {
            "type": "string"
          },
          "target_branch": {
            "type": "string"
          },
          "executor": {
            "type": "string"
          },
          "worktree_deleted": {
            "type": "boolean"
          },
          "setup_completed_at": {
            "type": "string",
            "nullable": true
          },
          "created_at": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          }
        }
      },
      "Scratch": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "scratch_type": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          }
        }
      },
      "Tag": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "color": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "Availability": {
        "type": "object",
        "properties": {
          "available": {
            "type": "boolean"
          }
        }
      },
      "ApiResponseProject": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/Project"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseProjects": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Project"
            }
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseTask": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/Task"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseTaskWithAttemptStatuses": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TaskWithAttemptStatus"
            }
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseTaskAttempt": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/TaskAttempt"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseTaskAttempts": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TaskAttempt"
            }
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseShareTaskResponse": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/ShareTaskResponse"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseScratch": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/Scratch"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseTag": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/Tag"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseTags": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Tag"
            }
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseGitBranches": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GitBranch"
            }
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseSearchResults": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SearchResult"
            }
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseAvailability": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/Availability"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseScratches": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Scratch"
            }
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "MemberRole": {
        "type": "string",
        "enum": [
          "ADMIN",
          "MEMBER"
        ],
        "description": "Role assigned to an organisation member."
      },
      "InvitationStatus": {
        "type": "string",
        "enum": [
          "PENDING",
          "ACCEPTED",
          "DECLINED",
          "EXPIRED"
        ],
        "description": "Lifecycle status for an invitation token."
      },
      "Organization": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "slug": {
            "type": "string"
          },
          "is_personal": {
            "type": "boolean"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "name",
          "slug",
          "is_personal",
          "created_at",
          "updated_at"
        ]
      },
      "OrganizationWithRole": {
        "allOf": [
          {
            "$ref": "#/components/schemas/Organization"
          },
          {
            "type": "object",
            "properties": {
              "user_role": {
                "$ref": "#/components/schemas/MemberRole"
              }
            },
            "required": [
              "user_role"
            ]
          }
        ]
      },
      "ListOrganizationsResponse": {
        "type": "object",
        "properties": {
          "organizations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OrganizationWithRole"
            }
          }
        },
        "required": [
          "organizations"
        ]
      },
      "GetOrganizationResponse": {
        "type": "object",
        "properties": {
          "organization": {
            "$ref": "#/components/schemas/Organization"
          },
          "user_role": {
            "type": "string"
          }
        },
        "required": [
          "organization",
          "user_role"
        ]
      },
      "CreateOrganizationRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "slug": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "slug"
        ]
      },
      "CreateOrganizationResponse": {
        "type": "object",
        "properties": {
          "organization": {
            "$ref": "#/components/schemas/OrganizationWithRole"
          }
        },
        "required": [
          "organization"
        ]
      },
      "UpdateOrganizationRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name"
        ]
      },
      "Invitation": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "organization_id": {
            "type": "string",
            "format": "uuid"
          },
          "invited_by_user_id": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "role": {
            "$ref": "#/components/schemas/MemberRole"
          },
          "status": {
            "$ref": "#/components/schemas/InvitationStatus"
          },
          "token": {
            "type": "string"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "organization_id",
          "email",
          "role",
          "status",
          "token",
          "created_at",
          "expires_at"
        ]
      },
      "CreateInvitationRequest": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email"
          },
          "role": {
            "$ref": "#/components/schemas/MemberRole"
          }
        },
        "required": [
          "email",
          "role"
        ]
      },
      "CreateInvitationResponse": {
        "type": "object",
        "properties": {
          "invitation": {
            "$ref": "#/components/schemas/Invitation"
          }
        },
        "required": [
          "invitation"
        ]
      },
      "ListInvitationsResponse": {
        "type": "object",
        "properties": {
          "invitations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Invitation"
            }
          }
        },
        "required": [
          "invitations"
        ]
      },
      "GetInvitationResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "organization_slug": {
            "type": "string"
          },
          "role": {
            "$ref": "#/components/schemas/MemberRole"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "organization_slug",
          "role",
          "expires_at"
        ]
      },
      "AcceptInvitationResponse": {
        "type": "object",
        "properties": {
          "organization_id": {
            "type": "string"
          },
          "organization_slug": {
            "type": "string"
          },
          "role": {
            "$ref": "#/components/schemas/MemberRole"
          }
        },
        "required": [
          "organization_id",
          "organization_slug",
          "role"
        ]
      },
      "OrganizationMemberWithProfile": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "string",
            "format": "uuid"
          },
          "role": {
            "$ref": "#/components/schemas/MemberRole"
          },
          "joined_at": {
            "type": "string",
            "format": "date-time"
          },
          "first_name": {
            "type": "string",
            "nullable": true
          },
          "last_name": {
            "type": "string",
            "nullable": true
          },
          "username": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "format": "email",
            "nullable": true
          },
          "avatar_url": {
            "type": "string",
            "format": "uri",
            "nullable": true
          }
        },
        "required": [
          "user_id",
          "role",
          "joined_at"
        ]
      },
      "ListMembersResponse": {
        "type": "object",
        "properties": {
          "members": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OrganizationMemberWithProfile"
            }
          }
        },
        "required": [
          "members"
        ]
      },
      "UpdateMemberRoleRequest": {
        "type": "object",
        "properties": {
          "role": {
            "$ref": "#/components/schemas/MemberRole"
          }
        },
        "required": [
          "role"
        ]
      },
      "UpdateMemberRoleResponse": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "string",
            "format": "uuid"
          },
          "role": {
            "$ref": "#/components/schemas/MemberRole"
          }
        },
        "required": [
          "user_id",
          "role"
        ]
      },
      "RemoteProject": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "organization_id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "organization_id",
          "name",
          "metadata",
          "created_at"
        ]
      },
      "RemoteProjectMembersResponse": {
        "type": "object",
        "properties": {
          "organization_id": {
            "type": "string",
            "format": "uuid"
          },
          "members": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OrganizationMemberWithProfile"
            }
          }
        },
        "required": [
          "organization_id",
          "members"
        ]
      },
      "ListRemoteProjectsResponse": {
        "type": "object",
        "properties": {
          "projects": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RemoteProject"
            }
          }
        },
        "required": [
          "projects"
        ]
      },
      "ApiResponseOrganization": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/Organization"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseOrganizationWithRole": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/OrganizationWithRole"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseOrganizationsWithRoles": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OrganizationWithRole"
            }
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseListOrganizations": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/ListOrganizationsResponse"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseGetOrganization": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/GetOrganizationResponse"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseCreateOrganization": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/CreateOrganizationResponse"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseInvitation": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/Invitation"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseInvitations": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Invitation"
            }
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseListInvitations": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/ListInvitationsResponse"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseCreateInvitation": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/CreateInvitationResponse"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseGetInvitation": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/GetInvitationResponse"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseAcceptInvitation": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/AcceptInvitationResponse"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseListMembers": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/ListMembersResponse"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseUpdateMemberRole": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/UpdateMemberRoleResponse"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseRemoteProject": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/RemoteProject"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseRemoteProjects": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/ListRemoteProjectsResponse"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseRemoteProjectMembers": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/RemoteProjectMembersResponse"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "CreateFollowUpAttempt": {
        "type": "object",
        "properties": {
          "prompt": {
            "type": "string"
          },
          "variant": {
            "type": "string",
            "nullable": true
          },
          "retry_process_id": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "force_when_dirty": {
            "type": "boolean",
            "nullable": true
          },
          "perform_git_reset": {
            "type": "boolean",
            "nullable": true
          }
        },
        "required": [
          "prompt"
        ]
      },
      "RunAgentSetupRequest": {
        "type": "object",
        "properties": {
          "executor_profile_id": {
            "type": "object",
            "properties": {
              "executor": {
                "type": "string"
              },
              "variant": {
                "type": "string",
                "nullable": true
              }
            },
            "required": [
              "executor"
            ]
          }
        },
        "required": [
          "executor_profile_id"
        ]
      },
      "RunAgentSetupResponse": {
        "type": "object"
      },
      "GhCliSetupError": {
        "oneOf": [
          {
            "type": "string",
            "enum": [
              "BREW_MISSING",
              "SETUP_HELPER_NOT_SUPPORTED"
            ]
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "OTHER"
                ]
              },
              "message": {
                "type": "string"
              }
            },
            "required": [
              "type",
              "message"
            ]
          }
        ]
      },
      "ExecutionProcessStatus": {
        "type": "string",
        "enum": [
          "running",
          "completed",
          "failed",
          "killed"
        ]
      },
      "ExecutionProcessRunReason": {
        "type": "string",
        "enum": [
          "setup_script",
          "cleanup_script",
          "coding_agent",
          "dev_server"
        ]
      },
      "ExecutionProcess": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "task_attempt_id": {
            "type": "string",
            "format": "uuid"
          },
          "run_reason": {
            "$ref": "#/components/schemas/ExecutionProcessRunReason"
          },
          "executor_action": {
            "type": "object",
            "additionalProperties": true
          },
          "before_head_commit": {
            "type": "string",
            "nullable": true
          },
          "after_head_commit": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "$ref": "#/components/schemas/ExecutionProcessStatus"
          },
          "exit_code": {
            "type": "integer",
            "nullable": true
          },
          "dropped": {
            "type": "boolean"
          },
          "started_at": {
            "type": "string",
            "format": "date-time"
          },
          "completed_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ExecutionProcessJsonPatchOperation": {
        "type": "object",
        "description": "RFC 6902 JSON Patch applied to execution processes keyed by ID.",
        "properties": {
          "op": {
            "type": "string",
            "enum": [
              "add",
              "remove",
              "replace",
              "move",
              "copy",
              "test"
            ]
          },
          "path": {
            "type": "string"
          },
          "value": {
            "description": "Patched value; add/replace operations embed an execution process record keyed by ID.",
            "type": "object"
          },
          "from": {
            "type": "string",
            "description": "Source path for move/copy operations"
          }
        },
        "required": [
          "op",
          "path"
        ]
      },
      "ExecutionProcessLogMessage": {
        "description": "WebSocket messages emitted for execution process streams and log feeds.",
        "oneOf": [
          {
            "type": "object",
            "description": "Standard output line from the executor.",
            "properties": {
              "Stdout": {
                "type": "string"
              }
            },
            "required": [
              "Stdout"
            ]
          },
          {
            "type": "object",
            "description": "Standard error line from the executor.",
            "properties": {
              "Stderr": {
                "type": "string"
              }
            },
            "required": [
              "Stderr"
            ]
          },
          {
            "type": "object",
            "description": "JSON Patch update for execution processes keyed by ID.",
            "properties": {
              "JsonPatch": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/ExecutionProcessJsonPatchOperation"
                }
              }
            },
            "required": [
              "JsonPatch"
            ]
          },
          {
            "type": "object",
            "description": "WebSocket session identifier announcement.",
            "properties": {
              "SessionId": {
                "type": "string"
              }
            },
            "required": [
              "SessionId"
            ]
          },
          {
            "type": "object",
            "description": "Stream completion marker.",
            "properties": {
              "finished": {
                "type": "boolean"
              }
            },
            "required": [
              "finished"
            ]
          }
        ]
      },
      "CommitCompareResult": {
        "type": "object",
        "properties": {
          "subject": {
            "type": "string"
          },
          "head_oid": {
            "type": "string"
          },
          "target_oid": {
            "type": "string"
          },
          "ahead_from_head": {
            "type": "integer"
          },
          "behind_from_head": {
            "type": "integer"
          },
          "is_linear": {
            "type": "boolean"
          }
        }
      },
      "BranchStatus": {
        "type": "object",
        "properties": {
          "commits_behind": {
            "type": "integer",
            "nullable": true
          },
          "commits_ahead": {
            "type": "integer",
            "nullable": true
          },
          "has_uncommitted_changes": {
            "type": "boolean",
            "nullable": true
          },
          "head_oid": {
            "type": "string",
            "nullable": true
          },
          "uncommitted_count": {
            "type": "integer",
            "nullable": true
          },
          "untracked_count": {
            "type": "integer",
            "nullable": true
          },
          "target_branch_name": {
            "type": "string"
          },
          "remote_commits_behind": {
            "type": "integer",
            "nullable": true
          },
          "remote_commits_ahead": {
            "type": "integer",
            "nullable": true
          },
          "merges": {
            "type": "array",
            "items": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "is_rebase_in_progress": {
            "type": "boolean"
          },
          "conflict_op": {
            "type": "string",
            "nullable": true
          },
          "conflicted_files": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "TaskRelationships": {
        "type": "object",
        "properties": {
          "parent_task": {
            "$ref": "#/components/schemas/Task",
            "nullable": true
          },
          "current_attempt": {
            "$ref": "#/components/schemas/TaskAttempt"
          },
          "children": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Task"
            }
          }
        }
      },
      "CreateGitHubPrRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "body": {
            "type": "string",
            "nullable": true
          },
          "target_branch": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "title"
        ]
      },
      "CreatePrError": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "github_cli_not_installed",
              "github_cli_not_logged_in",
              "git_cli_not_logged_in",
              "git_cli_not_installed",
              "target_branch_not_found"
            ]
          },
          "branch": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "type"
        ]
      },
      "AttachPrResponse": {
        "type": "object",
        "properties": {
          "pr_attached": {
            "type": "boolean"
          },
          "pr_url": {
            "type": "string",
            "nullable": true
          },
          "pr_number": {
            "type": "integer",
            "nullable": true
          },
          "pr_status": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "ApiResponseExecutionProcess": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/ExecutionProcess"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseExecutionProcessWithGhCliError": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/ExecutionProcess"
          },
          "error_data": {
            "$ref": "#/components/schemas/GhCliSetupError"
          },
          "message": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "ApiResponseRunAgentSetup": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/RunAgentSetupResponse"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseCommitCompare": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/CommitCompareResult"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseBranchStatus": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/BranchStatus"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseVoid": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "null"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseCreatePr": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "string"
          },
          "error_data": {
            "$ref": "#/components/schemas/CreatePrError"
          },
          "message": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "ApiResponseAttachPr": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/AttachPrResponse"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseTaskRelationships": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/TaskRelationships"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "QueueMessageRequest": {
        "type": "object",
        "required": [
          "message"
        ],
        "properties": {
          "message": {
            "type": "string",
            "description": "Follow-up message to queue"
          },
          "variant": {
            "type": "string",
            "nullable": true,
            "description": "Optional variant key"
          }
        }
      },
      "DraftFollowUpData": {
        "type": "object",
        "required": [
          "message"
        ],
        "properties": {
          "message": {
            "type": "string"
          },
          "variant": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "QueuedMessage": {
        "type": "object",
        "required": [
          "task_attempt_id",
          "data",
          "queued_at"
        ],
        "properties": {
          "task_attempt_id": {
            "type": "string",
            "format": "uuid"
          },
          "data": {
            "$ref": "#/components/schemas/DraftFollowUpData"
          },
          "queued_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "QueueStatus": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "status"
            ],
            "properties": {
              "status": {
                "type": "string",
                "enum": [
                  "empty"
                ]
              }
            },
            "description": "No message queued"
          },
          {
            "type": "object",
            "required": [
              "status",
              "message"
            ],
            "properties": {
              "status": {
                "type": "string",
                "enum": [
                  "queued"
                ]
              },
              "message": {
                "$ref": "#/components/schemas/QueuedMessage"
              }
            },
            "description": "A follow-up message is queued"
          }
        ]
      },
      "ApiResponseQueueStatus": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/QueueStatus"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "CreateTask": {
        "type": "object",
        "required": [
          "project_id",
          "title"
        ],
        "properties": {
          "project_id": {
            "type": "string",
            "format": "uuid"
          },
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "string",
            "nullable": true
          },
          "parent_task_attempt": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "image_ids": {
            "type": "array",
            "nullable": true,
            "items": {
              "type": "string",
              "format": "uuid"
            }
          },
          "shared_task_id": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          }
        }
      },
      "UpdateTask": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "string",
            "nullable": true
          },
          "parent_task_attempt": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          }
        }
      },
      "ExecutorProfileId": {
        "type": "object",
        "required": [
          "executor"
        ],
        "properties": {
          "executor": {
            "type": "string"
          },
          "variant": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "CreateAndStartTaskRequest": {
        "type": "object",
        "required": [
          "task",
          "executor_profile_id",
          "base_branch"
        ],
        "properties": {
          "task": {
            "$ref": "#/components/schemas/CreateTask"
          },
          "executor_profile_id": {
            "$ref": "#/components/schemas/ExecutorProfileId"
          },
          "base_branch": {
            "type": "string"
          }
        }
      },
      "ApiResponseTaskWithAttemptStatus": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/TaskWithAttemptStatus"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ImageResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "file_path": {
            "type": "string"
          },
          "original_name": {
            "type": "string"
          },
          "mime_type": {
            "type": "string",
            "nullable": true
          },
          "size_bytes": {
            "type": "integer",
            "format": "int64"
          },
          "hash": {
            "type": "string"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "file_path",
          "original_name",
          "size_bytes",
          "hash",
          "created_at",
          "updated_at"
        ]
      },
      "ImageMetadata": {
        "type": "object",
        "properties": {
          "exists": {
            "type": "boolean"
          },
          "file_name": {
            "type": "string",
            "nullable": true
          },
          "path": {
            "type": "string",
            "nullable": true
          },
          "size_bytes": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "format": {
            "type": "string",
            "nullable": true
          },
          "proxy_url": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "exists"
        ]
      },
      "ApiResponseImage": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/ImageResponse"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseImages": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ImageResponse"
            }
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseImageMetadata": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/ImageMetadata"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "HandoffInitRequest": {
        "type": "object",
        "required": [
          "provider",
          "return_to"
        ],
        "properties": {
          "provider": {
            "type": "string"
          },
          "return_to": {
            "type": "string"
          }
        },
        "description": "Payload used to start an OAuth handoff."
      },
      "HandoffInitResponse": {
        "type": "object",
        "required": [
          "handoff_id",
          "authorize_url"
        ],
        "properties": {
          "handoff_id": {
            "type": "string",
            "format": "uuid"
          },
          "authorize_url": {
            "type": "string"
          }
        },
        "description": "Authorize URL and handoff identifier returned after starting the OAuth flow."
      },
      "ProviderProfile": {
        "type": "object",
        "required": [
          "provider"
        ],
        "properties": {
          "provider": {
            "type": "string"
          },
          "username": {
            "type": "string",
            "nullable": true
          },
          "display_name": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "avatar_url": {
            "type": "string",
            "nullable": true
          }
        },
        "description": "Per-provider profile details returned with login status."
      },
      "ProfileResponse": {
        "type": "object",
        "required": [
          "user_id",
          "email",
          "providers"
        ],
        "properties": {
          "user_id": {
            "type": "string",
            "format": "uuid"
          },
          "username": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string"
          },
          "providers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProviderProfile"
            }
          }
        },
        "description": "Authenticated profile information aggregated from providers."
      },
      "StatusResponse": {
        "type": "object",
        "required": [
          "logged_in"
        ],
        "properties": {
          "logged_in": {
            "type": "boolean"
          },
          "profile": {
            "$ref": "#/components/schemas/ProfileResponse"
          },
          "degraded": {
            "type": "boolean"
          }
        },
        "description": "Cached login status and optional profile details."
      },
      "ApiResponseAuthHandoff": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/HandoffInitResponse"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      },
      "ApiResponseOAuthStatus": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/StatusResponse"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          }
        }
      }
    }
  }
}