---
title: "Backend API"
description: "Endpoints exposed by the Vibe Kanban backend and how to use them."
---

Vibe Kanban ships with an HTTP API under the `/api` prefix. You can use it to manage projects, tasks, task attempts, and supporting resources directly from scripts or other tools.

## Base behaviour
- **Base URL**: the server nests all API routes under `/api` (for example, `http://localhost:3000/api/projects`).【F:crates/server/src/routes/mod.rs†L27-L52】
- **Response shape**: handlers wrap results in an `ApiResponse` envelope with `success`, optional `data`, optional `error_data`, and optional `message` fields; errors use `success: false` and set either `message` or structured `error_data`.【F:crates/utils/src/response.rs†L4-L55】
- **Health check**: `GET /api/health` returns `OK` to confirm the backend is running.【F:crates/server/src/routes/mod.rs†L29-L45】【F:crates/server/src/routes/health.rs†L1-L5】

### Response envelope

<ResponseField name="success" type="boolean">
True when the request completed without validation or runtime errors.
</ResponseField>

<ResponseField name="data" type="any | null">
Route-specific payload; structures are detailed in the sections below.
</ResponseField>

<ResponseField name="message" type="string | null">
Human-readable error information when `success` is `false`.
</ResponseField>

<ResponseField name="error_data" type="any | null">
Structured error payloads for routes that return typed error information.
</ResponseField>

<Note>
All endpoints are served by the Rust backend in `crates/server`. Changes to routers require a rebuild or restart of the server process.
</Note>

Routes that return database-backed models use typed response envelopes instead of the generic base wrapper so you can rely on concrete `data` shapes:

- `ApiResponseProject`, `ApiResponseProjects`, `ApiResponseGitBranches`, and `ApiResponseSearchResults` for project routes.
- `ApiResponseTask`, `ApiResponseTaskWithAttemptStatuses`, and `ApiResponseShareTaskResponse` for task CRUD and sharing.
- `ApiResponseTaskAttempt` and `ApiResponseTaskAttempts` for task attempt listings and detail fetches.
- `ApiResponseTag` and `ApiResponseTags` for tag management.
- `ApiResponseScratch` and `ApiResponseScratches` for scratch buffers.
- `ApiResponseAvailability` for editor and agent availability probes.
- `ApiResponseAuthHandoff` and `ApiResponseOAuthStatus` for the OAuth handoff and status checks.
- `ApiResponseCreateOrganization`, `ApiResponseGetOrganization`, `ApiResponseListOrganizations`, and `ApiResponseOrganization` for organisation CRUD.
- `ApiResponseCreateInvitation`, `ApiResponseListInvitations`, `ApiResponseGetInvitation`, and `ApiResponseAcceptInvitation` for invitation flows.
- `ApiResponseListMembers` and `ApiResponseUpdateMemberRole` for member management.
- `ApiResponseRemoteProject`, `ApiResponseRemoteProjects`, and `ApiResponseRemoteProjectMembers` for remote project lookups and member listings.

## Authentication and session endpoints
- `POST /api/auth/handoff/init` – start an OAuth handoff by posting the identity provider name and return URL; the backend responds with a handoff ID and `authorize_url` in a typed envelope.【F:crates/server/src/routes/oauth.rs†L35-L72】【F:crates/utils/src/api/oauth.rs†L6-L19】
- `GET /api/auth/handoff/complete` – finish the OAuth flow using `handoff_id` and `app_code` query parameters. The backend responds with a small HTML payload confirming sign-in rather than an API envelope.【F:crates/server/src/routes/oauth.rs†L74-L207】
- `POST /api/auth/logout` – clear stored OAuth credentials and return HTTP 204 with no body after shutting down any running sync job.【F:crates/server/src/routes/oauth.rs†L23-L235】
- `GET /api/auth/status` – returns a typed session status showing whether you are logged in and, when present, the provider profile metadata.【F:crates/server/src/routes/oauth.rs†L237-L259】【F:crates/utils/src/api/oauth.rs†L35-L47】

<ResponseField name="data" type="HandoffInitResponse">Handoff initiation responses include the `handoff_id` to correlate the callback and the `authorize_url` the user must open to continue the login flow.【F:crates/utils/src/api/oauth.rs†L12-L19】</ResponseField>

<ResponseField name="data" type="StatusResponse">Session status responses report whether you are logged in (`logged_in`), the cached provider profile (user ID, username, email, and linked providers), and an optional `degraded` flag if auth is partially available.【F:crates/utils/src/api/oauth.rs†L35-L47】</ResponseField>

## Configuration and capability endpoints
- `GET /api/info` – combined user system information, cached executor profiles, environment metadata, and capability flags for each executor.【F:crates/server/src/routes/config.rs†L32-L110】
- `PUT /api/config` – replace the persisted configuration file after validating fields such as the git branch prefix.【F:crates/server/src/routes/config.rs†L32-L142】
- `GET /api/sounds/{sound}` – download bundled notification sounds.【F:crates/server/src/routes/config.rs†L32-L139】
- `GET/POST /api/mcp-config?executor=` – read or update MCP server definitions for a specific executor profile.【F:crates/server/src/routes/config.rs†L32-L206】
- `GET/PUT /api/profiles` – read or update executor profile definitions stored on disk.【F:crates/server/src/routes/config.rs†L32-L205】【F:crates/server/src/routes/config.rs†L207-L235】
- `GET /api/editors/check-availability?editor_type=` – probe whether a configured editor is available on the host system.【F:crates/server/src/routes/config.rs†L32-L201】
- `GET /api/agents/check-availability?executor=` – report availability info for a coding agent profile.【F:crates/server/src/routes/config.rs†L32-L235】

## Project endpoints
- `GET/POST /api/projects` – list existing projects or create a new local git-backed project (optionally initialising a repository).【F:crates/server/src/routes/projects.rs†L657-L679】
- `GET/PUT/DELETE /api/projects/{id}` – fetch, update, or delete a project; updates cover name, repo path, and scripts.【F:crates/server/src/routes/projects.rs†L657-L679】
- `GET /api/projects/{id}/branches` – enumerate all git branches for a project repository.【F:crates/server/src/routes/projects.rs†L657-L666】
- `GET /api/projects/{id}/search` – search for file paths in the repository with optional caching and ranking by git history.【F:crates/server/src/routes/projects.rs†L657-L666】【F:crates/server/src/routes/projects.rs†L470-L655】
- `POST /api/projects/{id}/open-editor` – open the project in a configured local or remote editor and optionally return a URL for remote opening.【F:crates/server/src/routes/projects.rs†L657-L676】【F:crates/server/src/routes/projects.rs†L412-L441】
- Remote project linking: `POST /api/projects/{id}/link` to attach to an existing remote project, `DELETE /api/projects/{id}/link` to unlink, and `POST /api/projects/{id}/link/create` to create-and-link a remote project in one step.【F:crates/server/src/routes/projects.rs†L657-L676】
- `GET /api/projects/{id}/remote/members` – list remote project members when a project is linked.【F:crates/server/src/routes/projects.rs†L657-L666】
- `GET /api/remote-projects` – list remote projects available to the authenticated user.【F:crates/server/src/routes/projects.rs†L677-L684】
- `GET /api/remote-projects/{remote_project_id}` – fetch remote project details by ID.【F:crates/server/src/routes/projects.rs†L677-L684】

<ResponseField name="data" type="Project | Project[]">Project documents include identifiers, repo location, optional setup/dev/cleanup scripts, optional copy file lists, and timestamps.【F:crates/db/src/models/project.rs†L25-L58】</ResponseField>

<ResponseField name="data" type="GitBranch[]" optional>Branch listings note the branch name, whether it is current, whether it is remote, and the last commit timestamp.【F:crates/services/src/services/git.rs†L60-L67】</ResponseField>

<ResponseField name="data" type="SearchResult[]" optional>Repository search results return the path, whether the match is a file, and the match type (`file_name`, `directory_name`, `full_path`).【F:crates/db/src/models/project.rs†L61-L73】</ResponseField>

## Task endpoints (scoped per project)
- `GET /api/tasks?project_id=` – list tasks for a project by passing the project ID as a query parameter.【F:crates/server/src/routes/tasks.rs†L37-L50】【F:crates/server/src/routes/tasks.rs†L419-L420】
- `POST /api/tasks` – create a new task; you can attach image IDs during creation.【F:crates/server/src/routes/tasks.rs†L106-L147】【F:crates/server/src/routes/tasks.rs†L419-L420】
- `GET /api/tasks/stream/ws?project_id=` – websocket stream of task events for the given project.【F:crates/server/src/routes/tasks.rs†L52-L97】【F:crates/server/src/routes/tasks.rs†L421-L423】
- `POST /api/tasks/create-and-start` – create a task and immediately start an attempt using the chosen executor profile and base branch.【F:crates/server/src/routes/tasks.rs†L140-L215】【F:crates/server/src/routes/tasks.rs†L422-L423】
- `GET/PUT/DELETE /api/tasks/{task_id}` – read, update, or delete a task (deletion checks running processes and cleans up worktrees).【F:crates/server/src/routes/tasks.rs†L99-L338】【F:crates/server/src/routes/tasks.rs†L408-L417】
- `POST /api/tasks/{task_id}/share` – publish a task to the sharing service and receive a shared task ID.【F:crates/server/src/routes/tasks.rs†L376-L405】【F:crates/server/src/routes/tasks.rs†L408-L417】

<ResponseField name="data" type="TaskWithAttemptStatus[]">Task listings flatten the base task fields (IDs, title, description, status, parent attempt, shared task link, timestamps) with flags for in-progress/merged/failed attempts and the executor name for the latest attempt.【F:crates/db/src/models/task.rs†L25-L47】</ResponseField>

<ResponseField name="data" type="Task">Single-task fetches and updates return the base task document, preserving status, description, parent attempt and shared task identifiers.【F:crates/db/src/models/task.rs†L25-L36】</ResponseField>

<ResponseField name="data" type="ShareTaskResponse">Sharing a task returns the generated `shared_task_id` UUID.【F:crates/server/src/routes/tasks.rs†L376-L405】</ResponseField>

## Task attempt endpoints
- `GET/POST /api/task-attempts` – list attempts (optionally filtered by task) or create a new attempt; creation also starts the executor for the attempt branch.【F:crates/server/src/routes/task_attempts.rs†L1547-L1576】
- `GET /api/task-attempts/{id}` – fetch a specific attempt; additional actions are exposed as subroutes on the same base path.【F:crates/server/src/routes/task_attempts.rs†L1548-L1577】

### Execution and git operations
- `POST /api/task-attempts/{id}/follow-up` – send a follow-up prompt to the coding agent for the attempt. You can override the executor variant, retry from a prior execution process, force or skip git resets, and switch between initial and follow-up behaviour automatically based on the latest session. The route clears draft follow-up scratch buffers after spawning the process and returns the execution process record.【F:crates/server/src/routes/task_attempts.rs†L214-L358】
- `POST /api/task-attempts/{id}/run-agent-setup` – run executor-specific setup scripts in the attempt worktree for Cursor or Codex profiles before sending follow-up instructions.【F:crates/server/src/routes/task_attempts.rs†L181-L210】
- `POST /api/task-attempts/{id}/gh-cli-setup` – install and authenticate the GitHub CLI inside the worktree, returning either the execution process or a typed setup error when prerequisites such as Homebrew are missing.【F:crates/server/src/routes/task_attempts.rs†L1511-L1534】【F:crates/server/src/routes/task_attempts/gh_cli_setup.rs†L18-L49】
- `GET /api/task-attempts/{id}/commit-compare?sha=` – compute ahead/behind counts between the attempt head and a target commit SHA and return comparison metadata for the two commits.【F:crates/server/src/routes/task_attempts.rs†L432-L469】
- `GET /api/task-attempts/{id}/branch-status` – fetch the branch status (ahead/behind counts, cleanliness, conflicts, and merge history) for the attempt worktree.【F:crates/server/src/routes/task_attempts.rs†L836-L907】
- `POST /api/task-attempts/{id}/start-dev-server` – stop any existing dev servers for the project, then run the configured dev script via the executor. Returns an empty success envelope when the server is launched.【F:crates/server/src/routes/task_attempts.rs†L1255-L1342】
- `POST /api/task-attempts/{id}/merge` – merge the attempt branch into the target branch with a generated commit message (including title and description) and mark the task as done. Any running dev servers for the attempt are stopped before returning an empty success envelope.【F:crates/server/src/routes/task_attempts.rs†L470-L561】
- `POST /api/task-attempts/{id}/push` and `/push/force` – push the attempt branch to GitHub, returning a typed `PushError` payload when a force push is required or auth/tools are missing.【F:crates/server/src/routes/task_attempts.rs†L563-L639】
- `POST /api/task-attempts/{id}/rebase` – rebase the attempt branch onto its target branch using the executor container; responses wrap the execution process created for the rebase.【F:crates/server/src/routes/task_attempts.rs†L692-L768】
- `POST /api/task-attempts/{id}/conflicts/abort` – abort an in-progress rebase or conflict state in the attempt worktree.【F:crates/server/src/routes/task_attempts.rs†L1255-L1265】
- `POST /api/task-attempts/{id}/pr` and `/pr/attach` – create a GitHub pull request or attach an existing one to the attempt, returning typed outcomes and error cases (for example missing authentication or default branches).【F:crates/server/src/routes/task_attempts.rs†L612-L668】【F:crates/server/src/routes/task_attempts.rs†L1414-L1507】
- `GET /api/task-attempts/{id}/diff/ws?stats_only=` – websocket that streams diff output or summary stats for the attempt branch; messages follow the execution log message format.【F:crates/server/src/routes/task_attempts.rs†L340-L424】
- `POST /api/task-attempts/{id}/stop` – stop any running execution processes for the attempt and return an empty success envelope.【F:crates/server/src/routes/task_attempts.rs†L1388-L1412】

### Attempt metadata and branch management
- `POST /api/task-attempts/{id}/change-target-branch` – update the stored target branch for the attempt and return the updated attempt document.【F:crates/server/src/routes/task_attempts.rs†L908-L952】
- `POST /api/task-attempts/{id}/rename-branch` – rename the attempt branch, update references, and return the updated attempt document.【F:crates/server/src/routes/task_attempts.rs†L954-L1030】
- `POST /api/task-attempts/{id}/open-editor` – open the attempt worktree in the configured editor (local or remote) and optionally return a remote-open URL for hosted editors.【F:crates/server/src/routes/task_attempts.rs†L1032-L1147】
- `GET /api/task-attempts/{id}/children` – inspect the parent task for the attempt and any child tasks it spawned.【F:crates/server/src/routes/task_attempts.rs†L1358-L1376】【F:crates/db/src/models/task.rs†L62-L67】
- `GET /api/task-attempts/{id}/queue` – inspect queue status for pending follow-up messages (`message` plus optional `variant`).【F:crates/server/src/routes/task_attempts/queue.rs†L17-L80】【F:crates/services/src/services/queued_message.rs†L16-L74】
- `POST /api/task-attempts/{id}/queue` – enqueue a follow-up message for the attempt with the same fields used by `/follow-up` and return the queued message status.【F:crates/server/src/routes/task_attempts/queue.rs†L17-L80】【F:crates/services/src/services/queued_message.rs†L16-L74】
- `DELETE /api/task-attempts/{id}/queue` – cancel any queued follow-up message for the attempt.【F:crates/server/src/routes/task_attempts/queue.rs†L17-L80】

### Attempt attachments
- `POST /api/task-attempts/{id}/images/upload` – upload an image for the attempt and copy it into the worktree (20MB limit).【F:crates/server/src/routes/task_attempts/images.rs†L35-L239】
- `GET /api/task-attempts/{id}/images/metadata?path=` – validate a `.vibe-images` path inside the attempt worktree and return file metadata if it exists.【F:crates/server/src/routes/task_attempts/images.rs†L35-L165】
- `GET /api/task-attempts/{id}/images/file/{path}` – stream an image file from the attempt worktree for display or download.【F:crates/server/src/routes/task_attempts/images.rs†L166-L239】

<ResponseField name="data" type="TaskAttempt | TaskAttempt[]">Task attempt payloads include IDs, owning task IDs, container references, branch and target branch names, executor selection, worktree flags, optional setup completion timestamps, and audit timestamps.【F:crates/db/src/models/task_attempt.rs†L25-L50】</ResponseField>

<ResponseField name="data" type="object" optional>Queue and execution helper routes reuse the same envelope and populate task-attempt metadata or derived views (for example branch status, compare results, dev-server addresses). Payload shapes are route-specific but always appear under `data` when `success: true`.</ResponseField>

<ResponseField name="data" type="ExecutionProcess" optional>Follow-up, agent setup, and GitHub CLI setup responses return execution process documents that include IDs, run reasons, executor actions, lifecycle timestamps, head commit hashes, exit codes, and status flags.【F:crates/db/src/models/execution_process.rs†L35-L72】</ResponseField>

<ResponseField name="data" type="BranchStatus" optional>Branch status calls report ahead/behind counts, working tree cleanliness, conflict details, and any merges already recorded for the attempt branch.【F:crates/server/src/routes/task_attempts.rs†L856-L874】</ResponseField>

<ResponseField name="data" type="CommitCompareResult" optional>Commit compare calls include the commit subject, head OID, target OID, ahead/behind counts relative to HEAD, and a flag showing whether the history is linear.【F:crates/server/src/routes/task_attempts.rs†L432-L468】</ResponseField>

<ResponseField name="data" type="TaskRelationships" optional>The children endpoint returns the parent task (if any), the current attempt, and any child tasks the attempt created to help you traverse the task graph.【F:crates/db/src/models/task.rs†L62-L67】</ResponseField>

## Execution process streaming
- `GET /api/execution-processes/stream/ws` – websocket stream of execution process lifecycle events across attempts.【F:crates/server/src/routes/execution_processes.rs†L180-L233】
- `GET /api/execution-processes/{id}` – fetch an execution process, stop it, or stream raw/normalised logs over websockets via `/stop`, `/raw-logs/ws`, and `/normalized-logs/ws`.【F:crates/server/src/routes/execution_processes.rs†L32-L119】【F:crates/server/src/routes/execution_processes.rs†L235-L251】

<ResponseField name="data" type="ExecutionProcess">`GET /api/execution-processes/{id}` returns a full execution process record, including lifecycle status, executor action metadata, git head commits, exit code, and timestamps for creation, start, and completion.【F:crates/db/src/models/execution_process.rs†L31-L73】【F:crates/server/src/routes/execution_processes.rs†L32-L37】</ResponseField>

<ResponseField name="data" type="null">`POST /api/execution-processes/{id}/stop` acknowledges the termination signal for the process and returns an empty success envelope when the stop request is accepted.【F:crates/server/src/routes/execution_processes.rs†L168-L178】</ResponseField>

<ResponseField name="message" type="ExecutionProcessLogMessage">WebSocket streams emit JSON objects per message. You receive stdout and stderr lines, JSON Patch arrays keyed by execution process ID, session identifiers, and `{ "finished": true }` markers when the stream ends.【F:crates/utils/src/log_msg.rs†L5-L78】【F:crates/server/src/routes/execution_processes.rs†L39-L119】【F:crates/server/src/routes/execution_processes.rs†L180-L233】</ResponseField>

### Viewing LLM reasoning and tool calls for an attempt
1. Start or fetch the attempt to obtain its latest execution process ID. Follow-up and setup routes return the process record directly, or you can fetch it from the execution process list stream using `/api/execution-processes/stream/ws?task_attempt_id=<attempt_id>`.【F:crates/server/src/routes/task_attempts.rs†L181-L210】【F:crates/server/src/routes/task_attempts.rs†L214-L358】【F:crates/server/src/routes/execution_processes.rs†L180-L233】
2. Open a websocket to `/api/execution-processes/{execution_process_id}/normalized-logs/ws` to receive structured JSON patches. Each patch adds or updates a `NormalizedEntry` containing timestamps, assistant "thinking" content, system/user messages, and tool invocations with their status and action type so you can see LLM reasoning alongside executed tools.【F:crates/server/src/routes/execution_processes.rs†L85-L145】【F:crates/utils/src/log_msg.rs†L5-L78】【F:crates/executors/src/logs/mod.rs†L57-L114】
3. For the raw terminal-style stream, use `/api/execution-processes/{execution_process_id}/raw-logs/ws`. These messages contain stdout/stderr text and `SessionId` markers but do not normalise the conversation into tool/thought entries.【F:crates/server/src/routes/execution_processes.rs†L39-L119】【F:crates/utils/src/log_msg.rs†L5-L55】

## Image upload and retrieval
- `POST /api/images/upload` – upload a generic image (20MB limit).【F:crates/server/src/routes/mod.rs†L29-L45】【F:crates/server/src/routes/images.rs†L256-L270】
- `GET /api/images/{id}/file` – fetch the stored image binary.【F:crates/server/src/routes/images.rs†L256-L270】
- `DELETE /api/images/{id}` – remove an image resource.【F:crates/server/src/routes/images.rs†L256-L270】
- Task-scoped helpers: `GET /api/images/task/{task_id}` for image metadata, `GET /api/images/task/{task_id}/metadata` for details, and `POST /api/images/task/{task_id}/upload` to attach uploads to a task.【F:crates/server/src/routes/images.rs†L256-L269】
- Task attempt helpers: `POST /api/task-attempts/{id}/images/upload` to store an image and copy it into the worktree, `GET /api/task-attempts/{id}/images/metadata` to validate a `.vibe-images` path, and `GET /api/task-attempts/{id}/images/file/{path}` to stream the file from the attempt worktree.【F:crates/server/src/routes/task_attempts/images.rs†L35-L239】

<ResponseField name="data" type="ImageResponse | ImageResponse[]">Uploads and listings return image records containing the stored ID, markdown-friendly path, original filename, mime type when detected, size in bytes, hash, and audit timestamps.【F:crates/server/src/routes/images.rs†L28-L120】</ResponseField>

<ResponseField name="data" type="ImageMetadata">Image metadata calls report whether the file exists, its name, optional size and format, and a proxy URL that streams the file from `.vibe-images`.【F:crates/server/src/routes/images.rs†L57-L73】【F:crates/server/src/routes/task_attempts/images.rs†L60-L134】</ResponseField>

## Sharing and collaboration
- `POST /api/shared-tasks/{shared_task_id}/assign` – reassign a shared task to another user (optional optimistic version).【F:crates/server/src/routes/shared_tasks.rs†L30-L37】【F:crates/server/src/routes/shared_tasks.rs†L39-L66】
- `DELETE /api/shared-tasks/{shared_task_id}` – remove a shared task from the remote sharing service.【F:crates/server/src/routes/shared_tasks.rs†L30-L37】
- `POST /api/approvals/{id}/respond` – answer approval prompts emitted by tools, recording analytics and returning the resulting status.【F:crates/server/src/routes/approvals.rs†L12-L44】
- `GET /api/events` – Server-Sent Events feed combining historical and live events from the execution runtime.【F:crates/server/src/routes/events.rs†L15-L28】

<ResponseField name="status" type="ApprovalStatus">
Responses include a tagged approval status where `status` is `pending`, `approved`, `denied`, or `timed_out`. The denied variant includes an optional `reason` string explaining why the action was rejected.【F:crates/server/src/routes/approvals.rs†L12-L44】【F:crates/utils/src/approvals.rs†L44-L53】

<Expandable title="Example approval responses">
  <ResponseField name="status" type="approved">`{"status":"approved"}`</ResponseField>
  <ResponseField name="status" type="denied" optional>When denied, the payload can include `reason`, for example `{"status":"denied","reason":"Missing context"}`.</ResponseField>
  <ResponseField name="status" type="timed_out">`{"status":"timed_out"}` when the approval window expires.</ResponseField>
</Expandable>
</ResponseField>

<ResponseField name="event" type="stdout | stderr | json_patch | session_id | finished">
The `/api/events` stream emits Server-Sent Events where the event name indicates the payload type. `stdout` and `stderr` carry log lines, `json_patch` provides serialised JSON Patch payloads, `session_id` announces the streaming session, and `finished` marks completion.【F:crates/server/src/routes/events.rs†L15-L28】【F:crates/utils/src/log_msg.rs†L5-L41】</ResponseField>

## Tags
- `GET/POST /api/tags` – list tags or create a tag for task organisation.【F:crates/server/src/routes/tags.rs†L88-L97】
- `PUT/DELETE /api/tags/{tag_id}` – update or delete a tag (middleware loads the tag before performing the action).【F:crates/server/src/routes/tags.rs†L88-L97】

## Filesystem helpers
- `GET /api/filesystem/directory?path=` – list entries for a given directory path, respecting server-side filtering rules.【F:crates/server/src/routes/filesystem.rs†L70-L99】
- `GET /api/filesystem/git-repos` – enumerate known git repositories on disk to help users select projects.【F:crates/server/src/routes/filesystem.rs†L70-L99】

## Container context lookup
- `GET /api/containers/info?ref=` – resolve a container reference into attempt, task, and project IDs.【F:crates/server/src/routes/containers.rs†L29-L74】
- `GET /api/containers/attempt-context?ref=` – return the stored attempt context (repo paths, branches, etc.) for a container ref.【F:crates/server/src/routes/containers.rs†L52-L74】

## Scratch buffers
- `GET /api/scratch` – list scratch buffers stored by the backend (grouped by type).【F:crates/server/src/routes/scratch.rs†L147-L159】
- `GET/POST/PUT/DELETE /api/scratch/{scratch_type}/{id}` – CRUD operations for a scratch entry, keyed by type and ID.【F:crates/server/src/routes/scratch.rs†L147-L160】
- `GET /api/scratch/{scratch_type}/{id}/stream/ws` – websocket stream of updates for a scratch entry.【F:crates/server/src/routes/scratch.rs†L147-L160】

## Organisation and remote collaboration
- `GET/POST /api/organizations` – list organisations from the remote service or create a new one.【F:crates/server/src/routes/organizations.rs†L26-L57】
- `GET/PATCH/DELETE /api/organizations/{id}` – retrieve, update, or delete an organisation record.【F:crates/server/src/routes/organizations.rs†L26-L57】
- Invitation management: create invitations (`POST /api/organizations/{org_id}/invitations`), list invitations, revoke them, and accept invites via `/api/invitations/{token}` and `/api/invitations/{token}/accept`.【F:crates/server/src/routes/organizations.rs†L26-L57】
- Member management: list members for an organisation and remove or update member roles via `/organizations/{org_id}/members` and `/organizations/{org_id}/members/{user_id}` routes.【F:crates/server/src/routes/organizations.rs†L26-L56】

<ResponseField name="data" type="ListOrganizationsResponse | CreateOrganizationResponse | GetOrganizationResponse | Organization">Organisation calls return either a list of organisations with your role, a single organisation payload, or the updated organisation document after patch operations.【F:crates/utils/src/api/organizations.rs†L25-L78】</ResponseField>

<ResponseField name="data" type="CreateInvitationResponse | ListInvitationsResponse | GetInvitationResponse | AcceptInvitationResponse">Invitation routes return the created invitation, all invitations for an organisation, invitation metadata for a token, or the organisation and role granted when you accept one.【F:crates/utils/src/api/organizations.rs†L80-L126】</ResponseField>

<ResponseField name="data" type="ListMembersResponse | UpdateMemberRoleResponse">Member routes either list members (including profile data) or return the updated `user_id` and `role` after a role change.【F:crates/utils/src/api/organizations.rs†L128-L161】</ResponseField>

<Check>
You can exercise these routes locally by running `pnpm run dev` and issuing HTTP requests to the reported backend port. Keep requests scoped to `/api` and reuse the health check to confirm the server is ready before sending mutating calls.
</Check>
